#pragma checksum "C:\Proyecto bacon\bacon-escritorio-ultimo\bacon-desktop\Views\CalcularPedidosManuales\IndexCalcularPedidosManuales.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "aa5edf73dfa57fe7ed0f18309bce2f172037bf95"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_CalcularPedidosManuales_IndexCalcularPedidosManuales), @"mvc.1.0.view", @"/Views/CalcularPedidosManuales/IndexCalcularPedidosManuales.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/CalcularPedidosManuales/IndexCalcularPedidosManuales.cshtml", typeof(AspNetCore.Views_CalcularPedidosManuales_IndexCalcularPedidosManuales))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"aa5edf73dfa57fe7ed0f18309bce2f172037bf95", @"/Views/CalcularPedidosManuales/IndexCalcularPedidosManuales.cshtml")]
    public class Views_CalcularPedidosManuales_IndexCalcularPedidosManuales : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 17094, true);
            WriteLiteral(@"<bacon class=""task-bacon"">

    <!-- partial -->
    <div class=""email-wrapper wrapper"">
        <div class=""row align-items-stretch"">

            <div class=""mail-list-container col-md-3 pt-4 pb-4 border-right bg-white"">
                <div class=""border-bottom pb-4 mb-3 px-3"">
                    <div class=""form-group"">
                        <input onchange=""filtroByNombreInsumo()"" class=""form-control w-100"" type=""search"" placeholder=""Buscar Insumo"" id=""filtroNombre"">
                    </div>
                </div>
                <div id=""target-insumos"">


                </div>

            </div>
            <div class=""mail-view d-none d-md-block col-md-9 col-lg-9 bg-white"">
                
                <div class=""message-body"">
                    
                    <div style=""visibility:hidden;display:none"" id=""target-cargaInsumos"">
                        
                        <div class=""sender-details"">
                            <img class=""img-sm round");
            WriteLiteral(@"ed-circle mr-3"" id=""imagen"" src=""https://via.placeholder.com/43x43"" alt="""">
                            <input type=""hidden"" id=""IdInsumo"" />
                            <div class=""details"">
                                
                                <p class=""msg-subject"" id=""nombre"">Cacao</p>
                                <p id=""stock"" class=""sender-email"">Stock Actual: 10 Kilos / Stock Minimo: 3 kilos / Stock Maximo: 15 kilos </p>
                            </div>
                        </div>
                        <div class=""sender-details"">
                            <div class=""col-md-12 forms-sample mb-4"">
                                <div class=""form-group"">
                                    <label for=""exampleInputName1"">Cantidad de insumo (kilos/litros)</label>
                                    <input type=""text"" class=""form-control"" id=""cantidadInsumo"" placeholder=""23"">
                                </div>


                                



            ");
            WriteLiteral(@"                    <button onclick=""agregarInsumo()"" class=""btn btn-primary mr-2"">Pedir insumo a administración</button>
                                <button onclick=""btnCancelar()"" class=""btn btn-behance btn-light"" id=""cancelar"">Cancelar</button>
                            </div>

                        </div>
                    </div>

                    <div style=""visibility:hidden;display:none"" id=""target-modificarInsumos"">
                        
                        <div class=""sender-details"">
                            <img class=""img-sm rounded-circle mr-3"" id=""imagen2"" src=""https://via.placeholder.com/43x43"" alt="""">
                            <input type=""hidden"" id=""IdInsumoPedido2"" />
                            <div class=""details"">
                                <p class=""msg-subject"" id=""nombre2""></p>
                                <p id=""stock2"" class=""sender-email""></p>
                            </div>
                        </div>
                        ");
            WriteLiteral(@"<div class=""sender-details"">
                            <div class=""col-md-12 forms-sample mb-4"">
                                <div class=""form-group"">
                                    <label for=""exampleInputName1"">Cantidad de insumo (kilos/litros)</label>
                                    <input type=""text"" class=""form-control"" id=""cantidadInsumo2"" placeholder=""23"">
                                </div>
                                <button onclick=""modificarInsumo()"" class=""btn btn-primary mr-2"">Modificar insumo pedido</button>
                                <button onclick=""btnCancelar()"" class=""btn btn-behance btn-light"">Cancelar</button>
                            </div>

                        </div>
                    </div>
                    <div class=""message-content"">
                        <div class=""table-responsive"">
                            <table class=""table table-hover"">
                                <thead>
                                    <tr>
");
            WriteLiteral(@"                                        <th>Insumo</th>
                                        <th>Nombre Insumo</th>
                                        <th>Cantidad pedida</th>
                                        <th>Medida</th>
                                        <th>Estado</th>
                                        <th>Editar</th>
                                    </tr>
                                </thead>
                                <tbody id=""target-insumosPedidos""></tbody>
                            </table>
                        </div>



                    </div>
                    <div class=""attachments-sections"">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--fin row-->
    <script type=""text/javascript"">
        timer = false;
        function calcularPedidosManuales() {
            cargarCalcularPedidosManuales();
            cargarInsumosPedidos();
            
            timer =");
            WriteLiteral(@" true;
        }

        function cargarCalcularPedidosManuales() {
            //Carga de las calcularPedidos
            ipcRenderer.send(""async-cargarVistasCalcularPedidos"", 'buscar');
            var loader = document.getElementById('loader');
            loader.style.visibility = '';
            ///fin de carga de vistas

        }

        function cargarInsumosPedidos() {
            //Carga de las calcularPedidos
            ipcRenderer.send(""async-cargarVistasInsumosPedidos"", 'buscar');
            var loader = document.getElementById('loader');
            loader.style.visibility = '';
            ///fin de carga de vistas

        }

      


        ipcRenderer.on('asynchronous-reply-cargarVistasCalcularPedidos', (event, arg) => {
            //console.log(arg);
            let vista = """";

            document.getElementById('target-insumos').innerHTML = """";

            for (var i = 0; i < arg.length; i++) {



                vista += ""<div class='mail-list'><");
            WriteLiteral(@"div class='form-check'><label class='form-check-label'><input onclick='cargarInsumos("" + arg[i].idInsumo +"")' name='insumos' type='radio' class='form-check-input'><i class='input-helper'></i></label></div>"" +
                    ""<div class='content'><p class='sender-name'>"" + arg[i].nombreInusmo + ""</p><p class='message_text'>"" + arg[i].stockInsumo + "" "" + arg[i].unidadMedidaInsumo + "" disponibles </p></div></div>"" 
                    


            }


            document.getElementById('target-insumos').innerHTML = vista;
            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';



        });
    
      
        //Carga del insumo
        function cargarInsumos(idInsumo) {
            
            ipcRenderer.send(""async-cargarVistasInsumosId"", idInsumo);
            var loader = document.getElementById('loader');
        }

        ipcRenderer.on('asynchronous-reply-cargarVistasInsumosId', (event, arg) => {
          
         ");
            WriteLiteral(@"   document.getElementById('target-cargaInsumos').style.visibility = '';
            document.getElementById('target-cargaInsumos').style.display = '';
            document.getElementById('target-modificarInsumos').style.visibility = 'hidden';
            document.getElementById('target-modificarInsumos').style.display = 'none';
            document.getElementById('imagen').src = 'https://baconappimagenes.s3-sa-east-1.amazonaws.com/' + arg.foto;
            document.getElementById('nombre').innerHTML = arg.nombreInusmo;
            document.getElementById('stock').innerHTML = ""Stock actual: "" + arg.stockInsumo + "" "" + arg.unidadMedidaInsumo + "" /Stock Minimo: "" + arg.minStockInsumo + "" "" + arg.unidadMedidaInsumo + "" /Stock Maximo: "" + arg.maxStockInsumo + "" "" + arg.unidadMedidaInsumo;  

           
            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';



        });

        ipcRenderer.on('asynchronous-reply-cargarVistasInsumosPedidos', (");
            WriteLiteral(@"event, arg) => {
            //console.log(arg);
            let vista = """";

            document.getElementById('target-insumosPedidos').innerHTML = """";

            for (var i = 0; i < arg.length; i++) {



                vista += ""<tr><td class='py-1'><img src='https://baconappimagenes.s3-sa-east-1.amazonaws.com/"" + arg[i].insumo.foto + ""' alt='image'></td>"" +
                    ""<td>"" + arg[i].insumo.nombreInusmo + ""</td><td>"" + arg[i].cantidadInsumo + ""</td><td>"" + arg[i].insumo.unidadMedidaInsumo + ""</td>"" +
                    ""<td>"";
                if (!arg[i].estadoInsumoPedido) {
                    vista += ""<label id='colorBoton' class='badge badge-danger'>"" + estadoInsumo(arg[i].estadoInsumoPedido) + ""</label>"";
                } else if (Number(arg[i].estadoInsumoPedido) === 1) {
                    vista += ""<label id='colorBoton' class='badge badge-warning'>"" + estadoInsumo(arg[i].estadoInsumoPedido) + ""</label>"";
                } else if (Number(arg[i].estadoInsumoPedido");
            WriteLiteral(@") === 2) {
                    vista += ""<label id='colorBoton' class='badge badge-info'>"" + estadoInsumo(arg[i].estadoInsumoPedido) + ""</label>"";
                }
                
                vista += ""</td ><td><div class='btn-group' role='group' aria-label='Basic example'>""; 
                if (!arg[i].estadoInsumoPedido) {
                    vista += ""<button type='button' id='btnEditar' onclick='cargarInsumoPedidoHaEditar("" + arg[i].idInsumoPedido + "")' class='btn btn-primary'><i class='mdi mdi-table-edit'></i></button>"";
                } else if (arg[i].estadoInsumoPedido === 1) {
                    vista += ""<button type='button' id='btnEditar' onclick='errorEditar("" + arg[i].idInsumoPedido + "")' class='btn btn-primary'><i class='mdi mdi-table-edit'></i></button>"";
                } else if (arg[i].estadoInsumoPedido === 2) {
                    vista += ""<button type='button' id='btnEditar' onclick='errorEditar("" + arg[i].idInsumoPedido + "")' class='btn btn-primary'><i class='mdi md");
            WriteLiteral(@"i-table-edit'></i></button>"";
                }
                    ""</div></td></tr>""
                
                


            }


            document.getElementById('target-insumosPedidos').innerHTML = vista;
            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';



        });

        function filtroByNombreInsumo() {
            //Filtro por nombre
        
            var nombre= document.getElementById('filtroNombre').value;
            ipcRenderer.send(""async-filtroByNombreInsumo"", nombre);

            var loader = document.getElementById('loader');
            loader.style.visibility = '';
            ///fin de filtro
        }

        ipcRenderer.on('asynchronous-reply-filtroByNombreInsumo', (event, arg) => {
            console.log(arg);
            let vista = """";

            document.getElementById('target-insumos').innerHTML = """";

            for (var i = 0; i < arg.length; i++) {

             ");
            WriteLiteral(@"   console.log(arg);
                vista += ""<div class='mail-list'><div class='form-check'><label class='form-check-label'><input onclick='cargarInsumos("" + arg[i].idInsumo + "")' name='insumos' type='radio' class='form-check-input'><i class='input-helper'></i></label></div>"" +
                    ""<div class='content'><p class='sender-name'>"" + arg[i].nombreInusmo + ""</p><p class='message_text'>"" + arg[i].stockInsumo + "" "" + arg[i].unidadMedidaInsumo + "" disponibles </p></div></div>"" 
               


            }


            document.getElementById('target-insumos').innerHTML = vista;
            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';





        });
        
          
        function cargarInsumoPedidoHaEditar(idInsumo) {
            
            console.log(idInsumo);
            ipcRenderer.send(""async-cargarInsumoPedidoHaEditar"", idInsumo);
            
        }

        ipcRenderer.on('asynchronous-reply-carga");
            WriteLiteral(@"rInsumoPedidoHaEditar', (event, arg) => {
            document.getElementById('target-cargaInsumos').style.visibility = 'hidden';
            document.getElementById('target-cargaInsumos').style.display = 'none';
            document.getElementById('target-modificarInsumos').style.visibility = '';
            document.getElementById('target-modificarInsumos').style.display = '';

            console.log(arg);

            document.getElementById('imagen2').src = 'https://baconappimagenes.s3-sa-east-1.amazonaws.com/' + arg.insumo.foto;
            document.getElementById('IdInsumoPedido2').value = arg.idInsumoPedido;
            document.getElementById('nombre2').innerHTML = arg.insumo.nombreInusmo;
            document.getElementById('stock2').innerHTML = ""Stock actual: "" + arg.insumo.stockInsumo + "" "" + arg.insumo.unidadMedidaInsumo + "" /Stock Mínimo: "" + arg.insumo.minStockInsumo + "" "" + arg.insumo.unidadMedidaInsumo + "" /Stock Máximo: "" + arg.insumo.maxStockInsumo + "" "" + arg.insumo.unidadMedida");
            WriteLiteral(@"Insumo;
            document.getElementById('cantidadInsumo2').value = arg.cantidadInsumo;


            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

        });

        function errorEditar() {
            alert('Solo se pueden editar los pedidos que estan pendientes');
        }

        function desabilitarEditar(estadoInsumo) {
            var estado = document.getElementById('btnEditar');
            if (estadoInsumo == 0) {
                estado = estado.innerHTML = """";
            }
        }

        function estadoInsumo(estadoInsumo) {
            var estado = ""Pendiente"";
            if (estadoInsumo == 0) {
                estado = ""Pendiente"";
            } else if (estadoInsumo == 1) {
                estado = ""A Proveedor"";
            } else if (estadoInsumo == 2) {
                estado = ""Finalizado"";
            }
            return estado;
        }

        function btnCancelar() {
            document");
            WriteLiteral(@".getElementById('target-cargaInsumos').style.visibility = 'hidden';
            document.getElementById('target-cargaInsumos').style.display = 'none';
            document.getElementById('target-modificarInsumos').style.visibility = 'hidden';
            document.getElementById('target-modificarInsumos').style.display = 'none';
        }

    

        function agregarInsumo() {

            var idInsumo = document.getElementById('IdInsumo').value;
            var cantidad = document.getElementById('cantidadInsumo').value;

            

            var datos = [{ ""idInsumo"": idInsumo, ""cantidad"": cantidad }];

            ipcRenderer.send(""async-agregarInsumoPedido"", datos);

            document.getElementById('target-cargaInsumos').style.visibility = 'hidden';
            document.getElementById('target-cargaInsumos').style.display = 'none';
            document.getElementById('target-modificarInsumos').style.visibility = 'hidden';
            document.getElementById('target-modificar");
            WriteLiteral(@"Insumos').style.display = 'none';

             
        }

        ipcRenderer.on('asynchronous-reply-agregarInsumoPedido', (event, arg) => { 

            if (arg === 1) {
                alert('Se agrego insumo pedido');
            } else {
                alert('No se pudo agregar insumo pedido');
            }

            cargarInsumosPedidos();
            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

        });
        function modificarInsumo() {
            var idInsumoPedido2 = document.getElementById('IdInsumoPedido2').value;
            var cantidad = document.getElementById('cantidadInsumo2').value;
            var datos = [{ ""idInsumoPedido"": idInsumoPedido2, ""cantidad"": cantidad }];
            ipcRenderer.send(""async-modificarInsumoPedido"", datos);

            document.getElementById('target-cargaInsumos').style.visibility = 'hidden';
            document.getElementById('target-cargaInsumos').style.display = 'none'");
            WriteLiteral(@";
            document.getElementById('target-modificarInsumos').style.visibility = 'hidden';
            document.getElementById('target-modificarInsumos').style.display = 'none';
        }
         ipcRenderer.on('asynchronous-reply-modificarInsumoPedido', (event, arg) => { 

            if (arg === 1) {
                alert('Se modificó insumo pedido')
            } else {
                alert('No se pudo modificar insumo pedido');
            }

             cargarInsumosPedidos();
             var loader = document.getElementById('loader');
             loader.style.visibility = 'hidden';

        });

        
        


       



       


    </script>
</bacon>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
