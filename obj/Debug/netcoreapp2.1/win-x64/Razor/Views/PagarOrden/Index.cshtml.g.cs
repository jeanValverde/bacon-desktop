#pragma checksum "C:\Users\jean\Desktop\PORTAFOLIO DE TITULO\bacon-desktop\Views\PagarOrden\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b3764a67fd521c18f6ca2759b363d6e3dc746331"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_PagarOrden_Index), @"mvc.1.0.view", @"/Views/PagarOrden/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/PagarOrden/Index.cshtml", typeof(AspNetCore.Views_PagarOrden_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b3764a67fd521c18f6ca2759b363d6e3dc746331", @"/Views/PagarOrden/Index.cshtml")]
    public class Views_PagarOrden_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 228, true);
            WriteLiteral("<bacon class=\"task-bacon\">\r\n\r\n\r\n    <div class=\"email-wrapper wrapper\">\r\n        <div class=\"row align-items-stretch\">\r\n\r\n            <div class=\"mail-list-container col-md-3 pt-4 pb-4 border-right bg-white\">\r\n                \r\n");
            EndContext();
            BeginContext(829, 9769, true);
            WriteLiteral(@"
                
                <div id=""cargaClientesOrden"">

                    

                </div>

               

            </div>



            <div class=""mail-view d-none d-md-block col-md-9 col-lg-9 bg-white"">



                <div class=""message-body"" id=""formCambiarValorPago"" >
                    <div class=""sender-details"">
                        <div class=""details"">
                            <p class=""msg-subject"" id=""NombreClienteDetalle"" >
                                <!---nombre del cliente-->
                            </p>
                            <p class=""sender-email"">
                                Número de Cliente:
                                <a href=""#"" id=""numeroClienteDetalle"" ><!----numero de cliente--></a>
                                &nbsp;<i class=""mdi mdi-account-multiple-plus""></i>
                            </p>
                        </div>
                    </div>
                    <div class=""message-co");
            WriteLiteral(@"ntent"">
                        <div class=""row"">
                            <div class=""col-md-3"">

                                <div class=""card icon-card-primary mt-4"">
                                    <div class=""card-body"">
                                        <div class=""d-flex align-items-center"">
                                            <div class=""icon mb-0 mb-md-2 mb-xl-0 mr-2"">
                                                <i class=""mdi mdi-cash-multiple""></i>
                                            </div>
                                            <p class=""font-weight-medium mb-0"">Total</p>
                                        </div>
                                        <div class=""d-flex align-items-center mt-3 flex-wrap"">
                                            <h3 class=""font-weight-normal mb-0 mr-2"" id=""totalPagarClienteDetalle""></h3>
                                        </div>
                                        <small class=""font-weight-me");
            WriteLiteral(@"dium d-block mt-2"">Total de a pagar</small>
                                    </div>
                                </div>

                                <div class=""card icon-card-dark mt-4"">
                                    <div class=""card-body"">
                                        <div class=""d-flex align-items-center"">
                                            <div class=""icon mb-0 mb-md-2 mb-xl-0 mr-2"">
                                                <i class=""mdi mdi-coffee""></i>
                                            </div>
                                            <p class=""font-weight-medium mb-0"">Mesa</p>
                                        </div>
                                        <div class=""d-flex align-items-center mt-3 flex-wrap"">
                                            <h3 class=""font-weight-normal mb-0 mr-2"" id=""mesaNumeroDetalleCliente"" ><!--numero--></h3>
                                        </div>
                                        ");
            WriteLiteral(@"<small class=""font-weight-medium d-block mt-2"">Mesa asignada al cliente</small>
                                    </div>
                                </div>

                                <div class=""card icon-card-success mt-4"">
                                    <div class=""card-body"">
                                        <div class=""d-flex align-items-center"">
                                            <div class=""icon mb-0 mb-md-2 mb-xl-0 mr-2"">
                                                <i class=""mdi mdi-coffee""></i>
                                            </div>
                                            <p class=""font-weight-medium mb-0"">Cantidad de ordenes</p>
                                        </div>
                                        <div class=""d-flex align-items-center mt-3 flex-wrap"">
                                            <h3 class=""font-weight-normal mb-0 mr-2"" id=""totalOrdenClienteDetalle""><!--numero--></h3>
                                   ");
            WriteLiteral(@"     </div>
                                        <small class=""font-weight-medium d-block mt-2"">Total de ordenes emitidas por el cliente</small>
                                    </div>
                                </div>

                            </div>

                            <div class=""col-md-9 grid-margin stretch-card mt-4"">
                                <div class=""card"" style=""border: 0px; border-radius:0px;"">
                                    
                                        <div class=""card-body"">
                                            <h4 class=""card-title"">Cambiar el monto a pagar</h4>
                                            <p class=""card-description"">
                                                Basic bootstrap input groups
                                            </p>

                                            <div class=""row"">
                                                <div class=""col-md-6"">
                                    ");
            WriteLiteral(@"                <div class=""form-group"" style=""margin-left:30%;"">
                                                        <div class=""input-group"">
                                                            <div class=""form-check form-check-danger"">
                                                                <label class=""form-check-label"">
                                                                    <input type=""radio"" class=""form-check-input"" required name=""isOperacionCambiarValor"" value=""0"" disabled id=""isOperacionCambiarValorUno"">
                                                                    Aumentar Monto
                                                                    <i class=""input-helper""></i>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                  ");
            WriteLiteral(@"                              </div>
                                                <div class=""col-md-6"">
                                                    <div class=""form-group"" style=""margin-left:30%;"">
                                                        <div class=""input-group"">
                                                            <div class=""form-check form-check-danger"">
                                                                <label class=""form-check-label"">
                                                                    <input type=""radio"" class=""form-check-input"" required name=""isOperacionCambiarValor"" value=""1"" disabled id=""isOperacionCambiarValorDos"">
                                                                    Disminuir Monto
                                                                    <i class=""input-helper""></i>
                                                                </label>
                                                            </d");
            WriteLiteral(@"iv>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class=""form-group"">
                                                <div class=""input-group"">
                                                    <div class=""input-group-prepend"">
                                                        <span class=""input-group-text bg-primary text-white"">$</span>
                                                    </div>
                                                    <input type=""text"" class=""form-control form-control-lg"" required id=""valorAcambiar"" disabled aria-label=""Amount (to the nearest dollar)"">
                                                    <div class=""input-group-append"">

                                                    </div>
                               ");
            WriteLiteral(@"                 </div>
                                            </div>


                                            <div class=""form-group"">
                                                <label for=""exampleTextarea1"">Motivo del cambio (*)</label>
                                                <textarea class=""form-control"" id=""motivoCambiarValor"" disabled required rows=""4""></textarea>
                                            </div>

                                            <div class=""row"">
                                                <div class=""col-md-6"">
                                                    <button type=""button"" onclick=""habilitarCambiarValor()""  class=""btn btn-dark btn-lg btn-block"">
                                                        Cambiar el Monto a Pagar
                                                    </button>
                                                </div>
                                                <div class=""col-md-6"" id=""btnPagar");
            WriteLiteral(@"TotalCliente"">

                                                </div>
                                            </div>

                                        </div>
                                 
                                </div>
                            </div>

                        </div>

                    </div>

                    <div class=""attachments-sections"">

                        <div class=""card-columns"" style=""column-count: 1;"">

                            <!--inicio tarjeta de ordenes--->
");
            EndContext();
            BeginContext(13103, 9461, true);
            WriteLiteral(@"                            <!--fin tarjeta de ordenes--->


                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
     

    <script type=""text/javascript"">

        let isPagoPersonalizado = false;

        
        function pagarOrdenIndex() {

            getClientesMesa();

            var form = document.getElementById('formCambiarValorPago');
            form.style.visibility = 'hidden';

            timerPagarOrden = true;

        }

        function getClientesMesa() {

            ipcRenderer.send(""async-pagarOrden-clientes"", 'buscar');
            var loader = document.getElementById('loader');
            loader.style.visibility = '';

        }

        ipcRenderer.on('asynchronous-reply-pagarOrden-clientes', (event, arg) => {

            let message = """";

            document.getElementById('cargaClientesOrden').innerHTML = """"; 


            for (var i = 0; i < arg.length; i++)");
            WriteLiteral(@" {

                message += ""<div class='mail-list'><div class='form-check'> <label class='form-check-label'> ""
                    + ""<input onclick='cargarCliente("" + arg[i].idCliente + "")' type='radio' name='mesa' class='form-check-input'> ""
                    + ""<i class='input-helper'></i></label></div> <div class='content'><p class=sender-name'>"" + arg[i].nombre + ""</p>""
                    + ""<p class='message_text'> Número Mesa #"" + arg[i].mesa.numeroMesa + ""</p></div></div>"";

            }


            document.getElementById('cargaClientesOrden').innerHTML = message;

            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

        });

        function clienteDetalle(idCliente) {

            ipcRenderer.send(""async-pagarOrden-clienteDetalle"", idCliente);
            var loader = document.getElementById('loader');
            loader.style.visibility = '';

        }

        ipcRenderer.on('asynchronous-reply-pagarOr");
            WriteLiteral(@"den-clienteDetalle', (event, arg) => {


            let nombreCliente = document.getElementById('NombreClienteDetalle');

            
            nombreCliente.innerHTML = arg.nombre + "" - Ingresado ("" + arg.fechaIngreso + "")"";


            
            let numeroClienteDetalle = document.getElementById('numeroClienteDetalle');

            
            numeroClienteDetalle.innerHTML = arg.idCliente;


            let mesaNumeroDetalleCliente = document.getElementById('mesaNumeroDetalleCliente');


            mesaNumeroDetalleCliente.innerHTML = arg.mesa.numeroMesa;

            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

        });

         function totalOrdenesClienteDetalle(idCliente) {

            ipcRenderer.send(""async-pagarOrden-totalOrdenClienteDetalle"", idCliente);
            var loader = document.getElementById('loader');
            loader.style.visibility = '';

         }

         ipcRenderer.on('async");
            WriteLiteral(@"hronous-reply-pagarOrden-totalOrdenClienteDetalle', (event, arg) => {

             let totalOrdenClienteDetalle = document.getElementById('totalOrdenClienteDetalle');

             totalOrdenClienteDetalle.innerHTML = arg;

            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

         });


          function totalApagarClienteDetalle(idCliente) {

            ipcRenderer.send(""async-pagarOrden-totalPagarClienteDetalle"", idCliente);
            var loader = document.getElementById('loader');
            loader.style.visibility = '';

         }

         ipcRenderer.on('asynchronous-reply-pagarOrden-totalPagarClienteDetalle', (event, arg) => {

             let totalPagarClienteDetalle = document.getElementById('totalPagarClienteDetalle');

             totalPagarClienteDetalle.innerHTML = ""$"" + dar_formato(arg);

            var loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';

   ");
            WriteLiteral(@"     });

        function cargarCliente(idCliente) {

            var btnPagarTotalCliente = document.getElementById('btnPagarTotalCliente');

            btnPagarTotalCliente.innerHTML = """";

            var form = document.getElementById('formCambiarValorPago');
            form.style.visibility = 'hidden';

            clienteDetalle(idCliente);
            totalOrdenesClienteDetalle(idCliente);
            totalApagarClienteDetalle(idCliente);
            habilitarDeshabilitarInput(true);

            //var form = document.getElementById('formCambiarValorPago');

            form.style.visibility = '';

            let button = ""<button onclick='pagarCliente("" + idCliente + "")' type = 'submit' class='btn btn-primary btn-lg btn-block' >""
                       + ""<i class='mdi mdi-account'></i>Pagar</button>"";

            btnPagarTotalCliente.innerHTML = button;
            

        }


        function habilitarCambiarValor() {
             ipcRenderer.send(""information-di");
            WriteLiteral(@"alog-cambiarTotalPagar"");
        }

        ipcRenderer.on(""information-dialog-reply-cambiarTotalPagar"", (sender, index) => {
           

            if (index == 0) {

                isPagoPersonalizado = true;
                document.getElementById('isOperacionCambiarValorUno').checked = true;
                habilitarDeshabilitarInput(false);
            } 


        });

        function habilitarDeshabilitarInput(isActive) {
            habilitar(document.getElementById('isOperacionCambiarValorUno'));
            habilitar(document.getElementById('isOperacionCambiarValorDos'));
            habilitar(document.getElementById('valorAcambiar'));
            habilitar(document.getElementById('motivoCambiarValor'));

            function habilitar(input) {
                input.disabled = isActive;
            }

        }



        function pagarCliente(idCliente) {
                        
            if (isPagoPersonalizado) {

                var checkUno = document.g");
            WriteLiteral(@"etElementById('isOperacionCambiarValorUno');
                var checkDos = document.getElementById('isOperacionCambiarValorDos');

                var valorAcambiar = document.getElementById('valorAcambiar');

                var motivoCambiarValor = document.getElementById('motivoCambiarValor');

                if (valorAcambiar.value.trim() != """" && valorAcambiar.value >= 1) {

                    if (motivoCambiarValor.value.trim() != """") {
                        //0: sumar - 1: restar
                        var operacion = 0;

                        if (checkDos.checked) {
                            operacion = 1;
                        }


                         var datos = [
                             {
                            ""id_cliente"" : idCliente , 
                            ""valor_a_pagar"": valorAcambiar.value,
                            ""operacion"": operacion , 
                            ""motivo"": motivoCambiarValor.value
                          }
  ");
            WriteLiteral(@"                       ]

                      
                        ipcRenderer.send(""async-pagarOrden-pagarClientePersonalizado"", datos);
                        var loader = document.getElementById('loader');
                        loader.style.visibility = '';


                    } else {

                        alert('Motivo es obligatorio');

                    }

                } else {

                    alert('Valor es obligatorio y mayor a uno');

                }


                //alert(checkUno.checked);
                //alert(checkDos.checked);



            } else {

                ipcRenderer.send(""async-pagarOrden-pagarClienteOrdenes"", idCliente);
                var loader = document.getElementById('loader');
                loader.style.visibility = '';

            }

        }

       
        ipcRenderer.on('asynchronous-reply-pagarOrden-pagarClientePersonalizado', (event, arg) => {

            console.log(arg);

            var ");
            WriteLiteral(@"loader = document.getElementById('loader');
            loader.style.visibility = 'hidden';
        });

        ipcRenderer.on('asynchronous-reply-pagarOrden-pagarClienteOrdenes', (event, arg) => {

            pagarOrdenIndex();

        });



        setInterval(function () {
             if (timerPagarOrden) {
                getClientesMesa();
            }
        }, 60000);


        function dar_formato(num) {

                var cadena = """";
                var aux;

                var cont = 1, m, k;

                if (num < 0)
                    aux = 1;
                else
                    aux = 0;

                num = num.toString();

                for (m = num.length - 1; m >= 0; m--) {

                    cadena = num.charAt(m) + cadena;

                    if (cont % 3 == 0 && m > aux)
                        cadena = ""."" + cadena;
                    else
                        cadena = cadena;

                    if (cont == 3)
   ");
            WriteLiteral("                     cont = 1;\r\n                    else\r\n                        cont++;\r\n\r\n                }\r\n\r\n                cadena = cadena.replace(/.,/, \",\");\r\n\r\n                return cadena;\r\n\r\n        }\r\n\r\n\r\n\r\n    </script>\r\n</bacon>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
